{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Programming/NodeJs%20Learning/ecommerce-app/models/Product.js"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema({\n  name: String,\n  price: Number,\n  stock: Number,\n  description: String,\n  images: [{\n    url: String,\n    isProminent: { type: Boolean, default: false }\n  }]\n});\n\nexport default mongoose.models.Product || mongoose.model('Product', productSchema);"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,gBAAgB,IAAI,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC;IACxC,MAAM;IACN,OAAO;IACP,OAAO;IACP,aAAa;IACb,QAAQ;QAAC;YACP,KAAK;YACL,aAAa;gBAAE,MAAM;gBAAS,SAAS;YAAM;QAC/C;KAAE;AACJ;uCAEe,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,yGAAA,CAAA,UAAQ,CAAC,KAAK,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Programming/NodeJs%20Learning/ecommerce-app/app/api/products/%5Bid%5D/route.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport jwt from 'jsonwebtoken';\nimport Product from '../../../../models/Product';\n\nconst authMiddleware = (req) => {\n  const token = req.headers.get('authorization');\n  if (!token) throw new Error('No token provided');\n  return jwt.verify(token, process.env.JWT_SECRET);\n};\n\nexport async function GET(req, { params }) {\n  try {\n    await mongoose.connect(process.env.MONGO_URI);\n    const product = await Product.findById(params.id);\n    if (!product) {\n      return new Response(JSON.stringify({ message: 'Product not found' }), { status: 404 });\n    }\n    return new Response(JSON.stringify(product), { status: 200 });\n  } catch (error) {\n    return new Response('Error fetching product: ' + error.message, { status: 500 });\n  }\n}\n\nexport async function PUT(req, { params }) {\n  try {\n    const user = authMiddleware(req);\n    if (user.role !== 'admin') {\n      return new Response('Admins only', { status: 403 });\n    }\n    const body = await req.json();\n    await mongoose.connect(process.env.MONGO_URI);\n    const product = await Product.findById(params.id);\n    if (!product) {\n      return new Response('Product not found', { status: 404 });\n    }\n    const { name, price, stock, description, images } = body;\n    product.name = name;\n    product.price = parseFloat(price);\n    product.stock = parseInt(stock);\n    product.description = description;\n    product.images = images || product.images;\n    await product.save();\n    return new Response(JSON.stringify(product), { status: 200 });\n  } catch (error) {\n    return new Response('Error updating product: ' + error.message, { status: 400 });\n  }\n}\n\nexport async function DELETE(req, { params }) {\n  try {\n    const user = authMiddleware(req);\n    if (user.role !== 'admin') {\n      return new Response('Admins only', { status: 403 });\n    }\n    await mongoose.connect(process.env.MONGO_URI);\n    const product = await Product.findByIdAndDelete(params.id);\n    if (!product) {\n      return new Response('Product not found', { status: 404 });\n    }\n    return new Response('Product deleted successfully', { status: 200 });\n  } catch (error) {\n    return new Response('Error deleting product: ' + error.message, { status: 400 });\n  }\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,iBAAiB,CAAC;IACtB,MAAM,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC;IAC9B,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM;IAC5B,OAAO,uIAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO,QAAQ,GAAG,CAAC,UAAU;AACjD;AAEO,eAAe,IAAI,GAAG,EAAE,EAAE,MAAM,EAAE;IACvC,IAAI;QACF,MAAM,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,SAAS;QAC5C,MAAM,UAAU,MAAM,mHAAA,CAAA,UAAO,CAAC,QAAQ,CAAC,OAAO,EAAE;QAChD,IAAI,CAAC,SAAS;YACZ,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,SAAS;YAAoB,IAAI;gBAAE,QAAQ;YAAI;QACtF;QACA,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC,UAAU;YAAE,QAAQ;QAAI;IAC7D,EAAE,OAAO,OAAO;QACd,OAAO,IAAI,SAAS,6BAA6B,MAAM,OAAO,EAAE;YAAE,QAAQ;QAAI;IAChF;AACF;AAEO,eAAe,IAAI,GAAG,EAAE,EAAE,MAAM,EAAE;IACvC,IAAI;QACF,MAAM,OAAO,eAAe;QAC5B,IAAI,KAAK,IAAI,KAAK,SAAS;YACzB,OAAO,IAAI,SAAS,eAAe;gBAAE,QAAQ;YAAI;QACnD;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,SAAS;QAC5C,MAAM,UAAU,MAAM,mHAAA,CAAA,UAAO,CAAC,QAAQ,CAAC,OAAO,EAAE;QAChD,IAAI,CAAC,SAAS;YACZ,OAAO,IAAI,SAAS,qBAAqB;gBAAE,QAAQ;YAAI;QACzD;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG;QACpD,QAAQ,IAAI,GAAG;QACf,QAAQ,KAAK,GAAG,WAAW;QAC3B,QAAQ,KAAK,GAAG,SAAS;QACzB,QAAQ,WAAW,GAAG;QACtB,QAAQ,MAAM,GAAG,UAAU,QAAQ,MAAM;QACzC,MAAM,QAAQ,IAAI;QAClB,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC,UAAU;YAAE,QAAQ;QAAI;IAC7D,EAAE,OAAO,OAAO;QACd,OAAO,IAAI,SAAS,6BAA6B,MAAM,OAAO,EAAE;YAAE,QAAQ;QAAI;IAChF;AACF;AAEO,eAAe,OAAO,GAAG,EAAE,EAAE,MAAM,EAAE;IAC1C,IAAI;QACF,MAAM,OAAO,eAAe;QAC5B,IAAI,KAAK,IAAI,KAAK,SAAS;YACzB,OAAO,IAAI,SAAS,eAAe;gBAAE,QAAQ;YAAI;QACnD;QACA,MAAM,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,SAAS;QAC5C,MAAM,UAAU,MAAM,mHAAA,CAAA,UAAO,CAAC,iBAAiB,CAAC,OAAO,EAAE;QACzD,IAAI,CAAC,SAAS;YACZ,OAAO,IAAI,SAAS,qBAAqB;gBAAE,QAAQ;YAAI;QACzD;QACA,OAAO,IAAI,SAAS,gCAAgC;YAAE,QAAQ;QAAI;IACpE,EAAE,OAAO,OAAO;QACd,OAAO,IAAI,SAAS,6BAA6B,MAAM,OAAO,EAAE;YAAE,QAAQ;QAAI;IAChF;AACF","debugId":null}}]
}